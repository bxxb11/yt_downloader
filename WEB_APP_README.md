# YouTube视频下载Web应用 - 本地版本

**本地运行** - 在您的电脑上运行，通过浏览器访问。所有数据存储在本地，不会上传到云端。

## 🌐 功能特点

- ✅ **网页界面** - 美观的Apple风格界面，无需命令行
- ✅ **实时进度** - 显示下载进度、速度和剩余时间
- ✅ **视频预览** - 下载前查看视频信息、缩略图
- ✅ **文件管理** - 查看、下载、删除已下载的文件
- ✅ **多质量选择** - 支持best/1080p/720p/worst
- ✅ **自动优化** - 自动避免MPEG-TS格式问题

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 启动本地服务器

**Windows:**
```bash
start_server.bat
```

**macOS/Linux:**
```bash
chmod +x start_server.sh
./start_server.sh
```

**或直接运行:**
```bash
python app.py
```

### 3. 访问网页

打开浏览器访问:
```
http://localhost:5000
```

**重要提示**:
- ✅ 这是**本地应用**，只在您的电脑上运行
- ✅ 所有视频下载到本地 `downloads/` 目录
- ✅ 不会上传到云端，完全私密
- ✅ 需要保持终端窗口打开才能访问

## 📖 使用说明

### 下载视频

1. 在输入框中粘贴YouTube视频链接
2. 选择视频质量（best/1080p/720p/worst）
3. 点击"获取视频信息"查看视频详情
4. 点击"开始下载"开始下载
5. 实时查看下载进度

### 管理文件

- **查看文件**: 在"已下载文件"区域查看所有已下载的视频
- **下载文件**: 点击"下载"按钮下载到本地
- **删除文件**: 点击"删除"按钮删除不需要的文件
- **刷新列表**: 点击"刷新"按钮更新文件列表

## 🎨 界面特点

- **Apple风格设计** - 简洁、优雅、现代
- **响应式布局** - 支持桌面和移动设备
- **实时反馈** - 进度条、状态提示、错误信息
- **流畅动画** - 平滑的过渡效果

## ⚙️ 配置

### 修改端口

编辑 `app.py`，修改最后一行：

```python
app.run(debug=True, host='0.0.0.0', port=5000)  # 修改port参数
```

### 修改下载目录

编辑 `app.py`，修改：

```python
DOWNLOAD_DIR = Path("downloads")  # 修改为您的目录
```

## 🔧 API接口

### 获取视频信息
```
POST /api/info
Body: {"url": "视频链接"}
```

### 开始下载
```
POST /api/download
Body: {"url": "视频链接", "quality": "best"}
```

### 查询下载状态
```
GET /api/status/<task_id>
```

### 获取文件列表
```
GET /api/downloads
```

### 下载文件
```
GET /api/download/<filename>
```

### 删除文件
```
DELETE /api/delete/<filename>
```

## ⚠️ 注意事项

1. **首次使用**: 确保已安装所有依赖（`pip install -r requirements.txt`）
2. **网络要求**: 需要能够访问YouTube
3. **磁盘空间**: 确保有足够的磁盘空间存储视频
4. **浏览器兼容**: 推荐使用Chrome、Firefox、Safari等现代浏览器
5. **视频播放**: 如果下载的视频无法播放，建议使用VLC播放器

## 🐛 故障排除

### 服务器无法启动

- 检查Python版本（需要3.7+）
- 确认已安装所有依赖
- 检查端口5000是否被占用

### 无法下载视频

- 检查网络连接
- 确认视频链接有效
- 查看浏览器控制台的错误信息

### 视频无法播放

- 使用VLC播放器打开视频
- 或使用Plan B脚本重新下载：`python redownload_fixed.py "视频链接"`

## 📝 技术栈

- **后端**: Flask (Python)
- **前端**: HTML5, CSS3, JavaScript (原生)
- **下载引擎**: yt-dlp
- **设计风格**: Apple网页风格

## 🔄 更新日志

### v1.0 (2026-01-01)
- ✅ 初始版本发布
- ✅ 网页界面
- ✅ 实时进度显示
- ✅ 文件管理功能
- ✅ Apple风格设计

